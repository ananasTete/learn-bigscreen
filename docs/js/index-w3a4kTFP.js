import{d as O,r as me,o as B,a as K,b as h,c as S,e as Ee,f as r,t as _,g as we,i as Oe,h as ve,n as fe,j as Le,k as xe,l as R,s as N,m as Se,p as x,q as Pe,u as V,v as H,w as U,x as w,y as J,F as Z,z as X,D as Ce,S as Ae,P as ze,W as Me,C as $e,O as Ie,M as be,A as De,B as ye,V as ue,E as _e,G as M,H as ke,I as Re,J as Te,K as Ne,L as We,N as qe,Q as Be,R as ge,T as He,U as Ue,X as Ge,Y as Fe,Z as je,_ as Qe,$ as z,a0 as Ve,a1 as Ye,a2 as Ke,a3 as Xe,a4 as ce,a5 as de,a6 as j,a7 as Je,a8 as Ze,a9 as ea}from"./vendor-B7YLk_Tg.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function a(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(t){if(t.ep)return;t.ep=!0;const n=a(t);fetch(t.href,n)}})();const aa={class:"layout-header"},ta={class:"header-right"},la=O({__name:"LayoutHeader",setup(m){const e=me({time:"--:--:--",date:"--/--/--",week:"--"}),a=()=>{const t=we();e.time=t.format("HH:mm:ss"),e.date=t.format("MM/DD/YYYY"),e.week=t.format("dddd")};let i;return B(()=>{a(),i=setInterval(a,1e3)}),K(()=>{clearInterval(i)}),(t,n)=>(h(),S("div",aa,[n[1]||(n[1]=Ee('<div class="header-midden" data-v-91334db6><div class="cn" data-v-91334db6>大型风力发电机监控平台</div><div class="en" data-v-91334db6>Large Wind Turbine Monitoring Platform</div></div><div class="header-left" data-v-91334db6><i class="fa-regular fa-envelope" data-v-91334db6></i><div class="message" content="【系统通知】感谢大家对我们项目的关注与支持!希望能为我们的项目点一个Star,您的支持对我们来说至关重要。" data-v-91334db6></div></div>',2)),r("div",ta,[r("span",null,_(e.time),1),r("span",null,_(e.date),1),r("span",null,_(e.week),1),n[0]||(n[0]=r("span",null,"13°c",-1))])]))}}),P=(m,e)=>{const a=m.__vccOpts||m;for(const[i,t]of e)a[i]=t;return a},na=P(la,[["__scopeId","data-v-91334db6"]]),sa={class:"layout-footer"},oa=O({__name:"LayoutFooter",setup(m){const e=me({isWarning:!1,isDecompose:!1,isDecomposeRuning:!1}),a=Oe("events"),i=async()=>{e.isWarning=!e.isWarning,e.isWarning?await a.startWarning():await a.stopWarning()},t=async()=>{e.isDecomposeRuning||(e.isDecompose=!e.isDecompose,e.isDecomposeRuning=!0,e.isDecompose?(await a.eqDecomposeAnimation(),e.isDecomposeRuning=!1):(await a.eqComposeAnimation(),e.isDecomposeRuning=!1))},n=ve(()=>{const c={};return e.isDecompose,c.cursor="pointer",e.isWarning?c.color="#5bc7fa":c.color="#fff",c}),u=ve(()=>{const c={};return e.isDecomposeRuning?c.cursor="not-allowed":c.cursor="pointer",e.isDecompose?c.color="#5bc7fa":c.color="#fff",c});return(c,L)=>(h(),S("div",sa,[r("div",{class:"item",style:fe(n.value),onClick:i},_(e.isWarning?"取消告警":"设备告警"),5),r("div",{class:"item",style:fe(u.value),onClick:t},_(e.isDecompose?"设备组装":"设备拆解"),5)]))}}),ia=P(oa,[["__scopeId","data-v-53c2eb34"]]),ra={key:0,class:"layout-loading animate animate__slideInDown"},ua={class:"loading-tip"},ca=O({__name:"LayoutLoading",props:{loading:{}},setup(m){return(e,a)=>e.loading.isLoading?(h(),S("div",ra,[a[0]||(a[0]=r("div",{class:"loading-gif"},null,-1)),r("div",ua," 模型正在加载中 ("+_(e.loading.loaded)+"/"+_(e.loading.total)+") ... ",1)])):Le("",!0)}}),da=P(ca,[["__scopeId","data-v-cc9eb546"]]),va={class:"layout-panel animate animate__bounceIn"},ma={class:"panel-header"},pa={class:"panel-header-title"},fa={class:"panel-body"},ba=O({__name:"LayoutPanel",props:{title:{}},setup(m){return(e,a)=>(h(),S("div",va,[r("div",ma,[r("div",pa,_(e.title),1)]),r("div",fa,[xe(e.$slots,"default",{},void 0)])]))}}),G=P(ba,[["__scopeId","data-v-97fb493b"]]);function pe(){const m=R(),e=N(),a=()=>{var u;return(u=e.value)==null?void 0:u.resize()},i=()=>{var u;return(u=e.value)==null?void 0:u.clear()},t=(u="light")=>{var c;e.value&&((c=e.value)==null||c.dispose()),x.isElement(m.value)?e.value=Pe(m.value,u):console.warn("容器还未初始化"),window.removeEventListener("resize",a),window.addEventListener("resize",a)},n=u=>{var c;e.value||t(),(c=e.value)==null||c.setOption(u)};return K(()=>{window.removeEventListener("resize",a)}),B(()=>{window.addEventListener("resize",a)}),{container:m,chart:e,setOption:n,resize:a,clear:i,echarts:Se}}const _a=O({__name:"WidgetPanel01",setup(m){const{container:e,echarts:a,setOption:i}=pe(),t=()=>({legend:{show:!0,right:0,textStyle:{color:"#fff"}},tooltip:{trigger:"axis",backgroundColor:"#000",borderColor:"#333",textStyle:{color:"#fff"}},grid:{left:"4%",right:"4%",bottom:"0%",top:"20%",containLabel:!0},xAxis:{type:"category",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#fff",margin:10},data:["08月","09月","10月","11月","12月"]},yAxis:{type:"value",axisLabel:{color:"#fff"},splitLine:{lineStyle:{color:"#c8c8c830",type:"dashed"}}},series:[{name:"2024年",type:"bar",emphasis:{focus:"series"},data:[320,332,301,334,390],barWidth:20,barGap:"20%",itemStyle:{color:new a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(0, 254, 169, 1)"},{offset:1,color:"rgba(0, 254, 169, 0.1)"}])}},{name:"2023年",type:"bar",emphasis:{focus:"series"},data:[220,182,191,234,290],barWidth:20,barGap:"20%",itemStyle:{color:new a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(87, 153, 214, 1)"},{offset:1,color:"rgba(87, 153, 214, 0.1)"}])}}]});return B(()=>{V(()=>{const n=t();i(n)})}),(n,u)=>(h(),H(G,null,{default:U(()=>[r("div",{class:"container",ref_key:"container",ref:e},null,512)]),_:1}))}}),ga=P(_a,[["__scopeId","data-v-53e3dfef"]]),ha=O({__name:"WidgetPanel02",setup(m){const{container:e,echarts:a,setOption:i}=pe(),t=n=>({legend:{show:!0,right:0,textStyle:{color:"#fff"}},tooltip:{trigger:"axis",backgroundColor:"#000",borderColor:"#333",textStyle:{color:"#fff"}},grid:{left:"1%",right:"6%",bottom:"0%",top:"20%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#fff",margin:20},data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},yAxis:{type:"value",axisLabel:{color:"#c8c8c8"},splitLine:{lineStyle:{color:"#c8c8c830",type:"dashed"}}},series:[{name:"2024",type:"line",symbol:"none",smooth:!0,lineStyle:{normal:{width:2,color:"rgba(0, 254, 169, 1)"}},itemStyle:{color:"rgba(0, 254, 169, 0.5)"},areaStyle:{color:new a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(31, 218, 163, 0.4)"},{offset:1,color:"rgba(31, 218, 163, 0)"}])},data:n[0]},{name:"2023",type:"line",symbol:"none",smooth:!0,lineStyle:{normal:{width:2,color:"rgba(87, 153, 214, 1)"}},itemStyle:{color:"rgba(87, 153, 214, 1)"},data:n[1]}]});return B(()=>{V(()=>{const u=t([[859,571,612,906,866,984,212,931,749,993,276,477],[598,539,861,375,576,383,896,430,315,755,808,630]]);i(u)})}),(n,u)=>(h(),H(G,null,{default:U(()=>[r("div",{class:"container",ref_key:"container",ref:e},null,512)]),_:1}))}}),ya=P(ha,[["__scopeId","data-v-afcc6a90"]]),Ea=O({__name:"WidgetPanel03",setup(m){const{container:e,echarts:a,setOption:i}=pe(),t=()=>({legend:{show:!0,right:0,textStyle:{color:"#fff"}},tooltip:{trigger:"axis",backgroundColor:"#000",borderColor:"#333",textStyle:{color:"#fff"}},grid:{left:"4%",right:"4%",bottom:"0%",top:"10%",containLabel:!0},xAxis:{type:"category",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#fff",margin:10},data:[...Array(30).keys()]},yAxis:{type:"value",axisLabel:{color:"#fff"},splitLine:{lineStyle:{color:"#c8c8c830",type:"dashed"}}},series:[{smooth:!0,showSymbol:!1,data:Array.from({length:30}).map(()=>Math.floor(Math.random()*90)+10),type:"bar",itemStyle:{color:new a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(0, 254, 169, 1)"},{offset:1,color:"rgba(65, 138, 255, 0.2)"}])}}]});return B(()=>{V(()=>{const n=t();i(n)})}),(n,u)=>(h(),H(G,null,{default:U(()=>[r("div",{class:"container",ref_key:"container",ref:e},null,512)]),_:1}))}}),wa=P(Ea,[["__scopeId","data-v-3fdba15e"]]),Oa={class:"container"},La={class:"label"},xa={class:"key"},Sa={class:"value"},Pa={class:"unit"},Ca=O({__name:"WidgetPanel04",setup(m){const e=[{icon:"fa-solid fa-temperature-three-quarters",label:"温度",value:"23",unit:"度",status:w.Random.pick([!0,!1])},{icon:"fa-solid fa-umbrella",label:"湿度",value:"70",unit:"%",status:w.Random.pick([!0,!1])},{icon:"fa-solid fa-fan",label:"气压",value:"23",unit:"kPa",status:w.Random.pick([!0,!1])},{icon:"fa-solid fa-wind",label:"最大风速",value:"11",unit:"m/s",status:w.Random.pick([!0,!1])},{icon:"fa-solid fa-temperature-arrow-up",label:"环境温度",value:"15",unit:"度",status:w.Random.pick([!0,!1])},{icon:"fa-solid fa-weight-scale",label:"负荷率",value:"23",unit:"%",status:w.Random.pick([!0,!1])},{icon:"fa-solid fa-plug",label:"总功率",value:"12",unit:"kVa",status:w.Random.pick([!0,!1])},{icon:"fa-solid fa-plug",label:"有功功率",value:"12",unit:"kVa",status:w.Random.pick([!0,!1])},{icon:"fa-solid fa-plug",label:"无功功率",value:"12",unit:"kVa",status:w.Random.pick([!0,!1])}];return(a,i)=>(h(),H(G,null,{default:U(()=>[r("div",Oa,[(h(),S(Z,null,J(e,(t,n)=>r("div",{class:X(["item",{error:t.status}]),key:n},[r("div",{class:X(["icon",t.icon])},null,2),r("div",La,_(t.label),1),r("div",xa,[r("span",Sa,_(t.value),1),r("span",Pa,_(t.unit),1)]),i[0]||(i[0]=r("i",{class:"alert fa-solid fa-triangle-exclamation"},null,-1))],2)),64))])]),_:1}))}}),Aa=P(Ca,[["__scopeId","data-v-bc320d37"]]),za={class:"wrap"},Ma={class:"item-name"},$a={class:"item-angle"},Ia={class:"item-type"},Da={class:"item-time"},ka=O({__name:"WidgetPanel05",setup(m){const e=["东","东北","北","西北","西","西南","南","东南"],a=R(e.map(()=>{const n=w.Random.integer(0,360);return{name:`向${w.Random.pick(e)}偏航`,angle:`${n}度`,status:n<180?1:0,time:w.Random.date("MM/dd HH:mm:ss")}})),i=R();let t;return B(()=>{t&&window.clearInterval(t),t=setInterval(()=>{i.value.classList.add("scroll"),setTimeout(()=>{t&&(i.value.classList.remove("scroll"),a.value.push(a.value.shift()))},2e3)},3e3)}),(n,u)=>(h(),H(G,null,{default:U(()=>[r("div",za,[r("div",{class:"item-list",ref_key:"container",ref:i},[(h(!0),S(Z,null,J(a.value,({name:c,status:L,angle:$,time:C})=>(h(),S("div",{class:X(["item",{error:L===0}])},[u[0]||(u[0]=r("div",{class:"item-circle"},null,-1)),r("div",Ma,_(c),1),r("div",$a,_($),1),r("div",Ia,_(L?"正常":"异常"),1),r("div",Da,_(C),1)],2))),256))],512)])]),_:1}))}}),Ra=P(ka,[["__scopeId","data-v-a2dccabc"]]),Ta={class:"wrap"},Na={class:"item-name"},Wa={class:"item-type"},qa={class:"item-time"},Ba=O({__name:"WidgetPanel06",setup(m){const a=R(["发动机","叶片","轮毂","主轴","发电机","塔架","变流器","变桨系统","齿轮箱"].map(n=>({name:n,status:w.Random.pick([0,1]),time:w.Random.date("MM/dd HH:mm:ss")}))),i=R();let t;return B(()=>{t&&window.clearInterval(t),t=setInterval(()=>{i.value.classList.add("scroll"),setTimeout(()=>{t&&(i.value.classList.remove("scroll"),a.value.push(a.value.shift()))},2e3)},3e3)}),(n,u)=>(h(),H(G,null,{default:U(()=>[r("div",Ta,[r("div",{class:"item-list",ref_key:"container",ref:i},[(h(!0),S(Z,null,J(a.value,({name:c,status:L,time:$})=>(h(),S("div",{class:X(["item",{error:L===0}])},[u[0]||(u[0]=r("div",{class:"item-circle"},null,-1)),r("div",Na,_(c),1),r("div",Wa,_(L?"正常":"部件异常"),1),r("div",qa,_($),1)],2))),256))],512)])]),_:1}))}}),Ha=P(Ba,[["__scopeId","data-v-5e8e1c61"]]),Ua={class:"container"},Ga={class:"item"},Fa={class:"item-label"},ja={class:"item-value"},Qa=O({__name:"WidgetPanel07",props:{name:{}},setup(m){const e=m,a={变桨系统:[{label:"变桨角度",value:15,unit:"度"},{label:"变桨速度",value:2,unit:"度/秒"},{label:"变桨系统温度",value:45,unit:"摄氏度"},{label:"电机负载",value:3.5,unit:"千瓦"},{label:"变桨位置传感器反馈",value:1.2,unit:"米"},{label:"故障状态",value:0,unit:"(无故障)"},{label:"电源电压",value:400,unit:"伏特"},{label:"桨叶压力",value:1200,unit:"帕斯卡"},{label:"变桨角度变化",value:.5,unit:"度"},{label:"变桨响应时间",value:.1,unit:"秒"},{label:"电流",value:10,unit:"安培"},{label:"变桨系统运行时间",value:200,unit:"小时"},{label:"变桨故障次数",value:1,unit:""},{label:"系统工作状态",value:"正常",unit:""},{label:"变桨电机温度",value:60,unit:"摄氏度"},{label:"变桨角度限制",value:25,unit:"度"}],转子:[{label:"转子直径",value:120,unit:"米"},{label:"转子重量",value:15e3,unit:"千克"},{label:"转子材料",value:"玻璃纤维",unit:""},{label:"转速",value:12,unit:"转/分钟"},{label:"最大载荷",value:5e3,unit:"牛顿"},{label:"转子倾斜角度",value:5,unit:"度"},{label:"转子寿命",value:20,unit:"年"},{label:"转子气动效率",value:92,unit:"%"},{label:"转子温度",value:50,unit:"摄氏度"},{label:"转子材料强度",value:350,unit:"兆帕"},{label:"转子振动频率",value:60,unit:"赫兹"},{label:"转子旋转惯量",value:150,unit:"千克·米²"},{label:"转子工作时间",value:1e3,unit:"小时"},{label:"转子检修周期",value:5,unit:"年"},{label:"转子转动摩擦系数",value:.02,unit:""},{label:"转子冷却方式",value:"风冷",unit:""}],主轴:[{label:"主轴直径",value:.15,unit:"米"},{label:"主轴长度",value:5,unit:"米"},{label:"主轴材料",value:"钢",unit:""},{label:"主轴重量",value:2e3,unit:"千克"},{label:"主轴转速",value:15,unit:"转/分钟"},{label:"主轴承载能力",value:1e4,unit:"牛顿"},{label:"主轴温度",value:60,unit:"摄氏度"},{label:"主轴轴承类型",value:"滚动轴承",unit:""},{label:"主轴材料强度",value:500,unit:"兆帕"},{label:"主轴运行时间",value:3e3,unit:"小时"},{label:"主轴磨损程度",value:.1,unit:"毫米"},{label:"主轴动态平衡状态",value:"正常",unit:""},{label:"主轴冷却方式",value:"油冷",unit:""},{label:"主轴安装角度",value:0,unit:"度"},{label:"主轴检修周期",value:3,unit:"年"},{label:"主轴振动频率",value:50,unit:"赫兹"}],齿轮箱:[{label:"齿轮箱类型",value:"行星齿轮箱",unit:""},{label:"齿轮箱比",value:15,unit:":1"},{label:"齿轮箱输入转速",value:20,unit:"转/分钟"},{label:"齿轮箱输出转速",value:300,unit:"转/分钟"},{label:"齿轮箱效率",value:95,unit:"%"},{label:"齿轮箱温度",value:70,unit:"摄氏度"},{label:"齿轮箱重量",value:250,unit:"千克"},{label:"齿轮材料",value:"合金钢",unit:""},{label:"齿轮箱噪音级别",value:60,unit:"分贝"},{label:"齿轮箱润滑方式",value:"油润滑",unit:""},{label:"齿轮磨损程度",value:.05,unit:"毫米"},{label:"齿轮箱检修周期",value:4,unit:"年"},{label:"齿轮箱冷却方式",value:"水冷",unit:""},{label:"齿轮箱负载能力",value:2e4,unit:"牛顿"},{label:"齿轮箱运行时长",value:5e3,unit:"小时"},{label:"齿轮箱振动状态",value:"正常",unit:""}],油冷装置:[{label:"油冷却器类型",value:"板式冷却器",unit:""},{label:"油流量",value:50,unit:"升/分钟"},{label:"油温",value:40,unit:"摄氏度"},{label:"冷却效率",value:90,unit:"%"},{label:"油冷装置重量",value:100,unit:"千克"},{label:"油类型",value:"合成油",unit:""},{label:"冷却介质温度",value:25,unit:"摄氏度"},{label:"最大工作压力",value:5,unit:"巴"},{label:"油冷却器运行时间",value:2e3,unit:"小时"},{label:"油冷却器故障次数",value:0,unit:""},{label:"油流量波动",value:5,unit:"升/分钟"},{label:"油冷却器材料",value:"铝合金",unit:""},{label:"油冷却器检修周期",value:3,unit:"年"},{label:"工作噪音",value:55,unit:"分贝"},{label:"冷却器振动状态",value:"正常",unit:""},{label:"油温上限",value:70,unit:"摄氏度"}],偏航电机:[{label:"电机类型",value:"伺服电机",unit:""},{label:"额定功率",value:5,unit:"千瓦"},{label:"额定电压",value:400,unit:"伏特"},{label:"额定转速",value:1500,unit:"转/分钟"},{label:"最大扭矩",value:30,unit:"牛顿·米"},{label:"电机重量",value:50,unit:"千克"},{label:"控制类型",value:"闭环控制",unit:""},{label:"工作温度",value:70,unit:"摄氏度"},{label:"电机运行时间",value:1e3,unit:"小时"},{label:"电机故障状态",value:0,unit:"(无故障)"},{label:"电机起动次数",value:10,unit:""},{label:"电机效率",value:92,unit:"%"},{label:"电机冷却方式",value:"风冷",unit:""},{label:"电机绝缘等级",value:"F级",unit:""},{label:"电机负载状态",value:"正常",unit:""},{label:"电机振动状态",value:"正常",unit:""}],风冷装置:[{label:"冷却器类型",value:"风冷散热器",unit:""},{label:"风扇类型",value:"轴流风扇",unit:""},{label:"风扇功率",value:1.5,unit:"千瓦"},{label:"风量",value:3e3,unit:"立方米/小时"},{label:"冷却效率",value:85,unit:"%"},{label:"工作温度",value:35,unit:"摄氏度"},{label:"装置重量",value:25,unit:"千克"},{label:"风扇转速",value:1200,unit:"转/分钟"},{label:"风扇运行时间",value:1500,unit:"小时"},{label:"风扇故障状态",value:0,unit:"(无故障)"},{label:"冷却器噪音级别",value:50,unit:"分贝"},{label:"风扇材料",value:"塑料",unit:""},{label:"风冷装置检修周期",value:2,unit:"年"},{label:"风扇振动状态",value:"正常",unit:""},{label:"风扇电流",value:3,unit:"安培"},{label:"风量波动",value:100,unit:"立方米/小时"}],发电机:[{label:"发电机类型",value:"同步发电机",unit:""},{label:"额定功率",value:1e3,unit:"千瓦"},{label:"额定电压",value:400,unit:"伏特"},{label:"额定频率",value:50,unit:"赫兹"},{label:"效率",value:95,unit:"%"},{label:"发电机重量",value:500,unit:"千克"},{label:"转速",value:1500,unit:"转/分钟"},{label:"冷却方式",value:"水冷",unit:""},{label:"发电机运行时间",value:2e3,unit:"小时"},{label:"发电机故障状态",value:0,unit:"(无故障)"},{label:"发电机启动次数",value:10,unit:""},{label:"发电机输出电流",value:1500,unit:"安培"},{label:"发电机检修周期",value:4,unit:"年"},{label:"发电机振动状态",value:"正常",unit:""},{label:"发电机温度",value:70,unit:"摄氏度"},{label:"发电机负载状态",value:"正常",unit:""}],控制柜:[{label:"控制柜类型",value:"配电控制柜",unit:""},{label:"额定电压",value:400,unit:"伏特"},{label:"额定电流",value:100,unit:"安培"},{label:"防护等级",value:"IP65",unit:""},{label:"控制方式",value:"自动控制",unit:""},{label:"柜体材料",value:"冷轧钢",unit:""},{label:"柜体重量",value:150,unit:"千克"},{label:"工作温度",value:40,unit:"摄氏度"},{label:"柜内电流",value:80,unit:"安培"},{label:"柜内电压",value:380,unit:"伏特"},{label:"控制柜工作状态",value:"正常",unit:""},{label:"柜体温度",value:50,unit:"摄氏度"},{label:"柜内项目数量",value:20,unit:""},{label:"控制柜检修周期",value:3,unit:"年"},{label:"柜体振动状态",value:"正常",unit:""},{label:"柜体防护等级测试",value:"合格",unit:""}]},i=ve(()=>a[e.name]||[]);return(t,n)=>(h(),H(G,null,{default:U(()=>[r("div",Ua,[(h(!0),S(Z,null,J(i.value,u=>(h(),S("div",Ga,[r("div",Fa,_(u.label),1),r("div",ja,_(u.value)+_(u.unit),1)]))),256))])]),_:1}))}}),Va=P(Qa,[["__scopeId","data-v-3731af72"]]),he={CAMERA_POSITION:[.2,2.8,.4],CONTROL_TARGET:[0,2.65,0],DECODER_PATH:"./js/draco/gltf/"};function Ya(){const m=R(),e=N(),a=N(),i=N(),t=N(),n=N(),u=N(),c=N(),L=new Map,$=[],C=new _e,F=new Map,W=new Ce;W.setDecoderPath(he.DECODER_PATH),W.setDecoderConfig({type:"js"});const D=()=>{T(),E(),A(),q(),ee(),Y(),ae()},T=()=>{e.value=new Ae},E=()=>{const{clientWidth:s,clientHeight:l}=m.value;a.value=new ze(45,s/l,.1,1e4),a.value.position.set(...he.CAMERA_POSITION)},A=()=>{const{clientWidth:s,clientHeight:l}=m.value;i.value=new Me({antialias:!0,alpha:!0}),i.value.shadowMap.enabled=!1,i.value.setSize(s,l),i.value.localClippingEnabled=!0,i.value.setClearAlpha(.5),i.value.domElement.className="webgl-renderer",m.value.appendChild(i.value.domElement),t.value=new $e,t.value.setSize(s,l),t.value.domElement.className="css2d-renderer",t.value.domElement.style.position="absolute",t.value.domElement.style.top="0px",t.value.domElement.style.pointerEvents="none",m.value.appendChild(t.value.domElement)},q=()=>{n.value=new Ie(a.value,i.value.domElement),n.value.minPolarAngle=0,n.value.enableDamping=!0,n.value.dampingFactor=.1,n.value.target.set(0,2.65,0),n.value.maxPolarAngle=be.degToRad(90),n.value.minPolarAngle=be.degToRad(45),n.value.minDistance=.5,n.value.maxDistance=2,n.value.update()},ee=()=>{const s=new De(10066329,10);e.value.add(s);const l=new ye(16777215,.5);l.position.set(20,20,20),l.position.multiplyScalar(1),l.castShadow=!0,l.shadow.mapSize=new ue(1024,1024),e.value.add(l)},ae=()=>{const s=()=>{const{clientWidth:l,clientHeight:o}=m.value;a.value.aspect=l/o,a.value.updateProjectionMatrix(),i.value.setSize(l,o),t.value.setSize(l,o),n.value.update()};window.addEventListener("resize",s),K(()=>{window.removeEventListener("resize",s)})},Y=()=>{const s=new _e().getDelta();i.value.render(e.value,a.value);const l=C.getDelta();$.forEach(o=>o.update(l)),L.forEach(o=>o.render(s)),F.forEach(o=>x.isFunction(o)&&o()),t.value.render(e.value,a.value),M.update(),requestAnimationFrame(()=>Y())},te=s=>{const l=new ke;l.setDRACOLoader(W);const o=(f,g)=>g(f);return new Promise(f=>{l.load(s,g=>o(g,f))})},le=(s,l,o)=>{const f=new Re(s),g=Te.findByName(l,o);if(!g)return;f.clipAction(g).play(),$.push(f)},ne=()=>{const s=new Ne(5e3);e.value.add(s)},se=(s,l)=>{const f=((p,v)=>{const b=O({render:()=>Ke(p,v)}),y=z(b);return Ve(y,document.createElement("div")),y.el})(s,l);return new We(f)},oe=()=>{const s=new qe(1,1,1),l=new Be({color:65280}),o=new ge(s,l);e.value.add(o)},Q=s=>{const{from:l,to:o,duration:f,easing:g=M.Easing.Quadratic.Out,onUpdate:p,onComplete:v}=s;return new M.Tween(l).to(o,f).easing(g).onUpdate(b=>x.isFunction(p)&&p(b)).onComplete(b=>x.isFunction(v)&&v(b))},ie=s=>{const{objects:l,during:o,easing:f,from:g,to:p,onComplete:v}=s,b=new He(new Ue(0,-1,0),g);return l.forEach(y=>{y==null||y.traverse(I=>{I instanceof ge&&(I.material.clippingPlanes=[b])})}),Q({from:{constant:g},to:{constant:p},duration:o??1e3,easing:f??M.Easing.Quadratic.Out,onUpdate:y=>{b.constant=y.constant},onComplete:()=>{x.isFunction(v)&&v()}})},re=()=>{const s=new Ge(i.value),l=new Fe(e.value,a.value);s.addPass(l),c.value=new je(new ue(window.innerWidth,window.innerHeight),e.value,a.value),c.value.edgeStrength=3,c.value.edgeGlow=1,c.value.edgeThickness=4,c.value.visibleEdgeColor.set("#0efaa6"),c.value.hiddenEdgeColor.set("#0efaa6"),c.value.selectedObjects=[],s.addPass(c.value);const o=new Qe;s.addPass(o),L.set("outline",s)},d=(s,l)=>{const o=f=>{const p=m.value.getBoundingClientRect(),v=new ue((f.clientX-p.left)/p.width*2-1,-((f.clientY-p.top)/p.height)*2+1),b=new Ye;b.setFromCamera(v,a.value);const y=b.intersectObject(s,!0);x.isFunction(l)&&l(y)};document.addEventListener("click",o),K(()=>document.removeEventListener("click",o))};return V(()=>{D()}),{container:m,scene:e,camera:a,renderer:i,cssRenderer:t,ocontrol:n,tcontrol:u,mixers:$,renderMixins:F,composers:L,outlinePass:c,loadGltf:te,loadAnimationMixer:le,loadAxesHelper:ne,loadCSS2DByVue:se,loadTestScene:oe,transitionAnimation:Q,planeClippingAnimation:ie,addModelPick:d,addOutlineEffect:re}}const Ka=O({__name:"WidgetLabel",props:{name:{}},setup(m){const e=()=>{};return(a,i)=>(h(),S("div",{class:"equipment-label",onClick:e},_(a.name),1))}}),Xa=P(Ka,[["__scopeId","data-v-b1bb4269"]]),k={MODEL_SOURCES:{EQUIPMENT:"./models/equipment.glb",PLANE:"./models/plane.glb",SKELETON:"./models/skeleton.glb"},MODEL_SCALES:[1e-4*3,1e-4*3,1e-4*3],EQUIPMENT_POSITION:{变桨系统:{LABEL:{x:.0291,y:2.6277,z:.2308},COMPOSE:{x:2519.0795,y:29288.6777,z:0},DECOMPOSE:{x:2519.0795,y:29000.6777,z:300}},转子:{LABEL:{x:.0632,y:2.7692,z:.1746},COMPOSE:{x:20437.7851,y:8650,z:0},DECOMPOSE:{x:20437.7851,y:8850,z:300}},主轴:{LABEL:{x:.0183,y:2.6193,z:.0815},COMPOSE:{x:20437.7851,y:8650,z:0},DECOMPOSE:{x:20437.7851,y:8350,z:200}},齿轮箱:{LABEL:{x:.0319,y:2.6239,z:-.0402},COMPOSE:{x:20437.7851,y:8650,z:0},DECOMPOSE:{x:20437.7851,y:8350,z:100}},油冷装置:{LABEL:{x:.0364,y:2.7995,z:.0593},COMPOSE:{x:20437.7851,y:8650,z:0},DECOMPOSE:{x:20437.7851,y:8650,z:600}},偏航电机:{LABEL:{x:-.0122,y:2.75662,z:-.0305},COMPOSE:{x:20437.7851,y:8650,z:0},DECOMPOSE:{x:20437.7851,y:8850,z:400}},风冷装置:{LABEL:{x:-.001,y:2.7643,z:-.1305},COMPOSE:{x:20437.7851,y:8650,z:0},DECOMPOSE:{x:20437.7851,y:8750,z:300}},发电机:{LABEL:{x:.0047,y:2.6156,z:-.2045},COMPOSE:{x:20437.7851,y:8650,z:0},DECOMPOSE:{x:20437.7851,y:8350,z:0}},控制柜:{LABEL:{x:.0249,y:2.7605,z:-.2521},COMPOSE:{x:20437.7851,y:8650,z:0},DECOMPOSE:{x:20437.7851,y:8850,z:0}}}};function Ja(){const{container:m,scene:e,camera:a,ocontrol:i,outlinePass:t,loadGltf:n,loadAnimationMixer:u,loadCSS2DByVue:c,addModelPick:L,addOutlineEffect:$,transitionAnimation:C,planeClippingAnimation:F}=Ya(),W=R(""),D=R(!1),T=new Xe,E={equipment:null,plane:null,skeleton:null},A={color:null,wireframe:null},q=me({total:2,loaded:0,isLoading:!0}),ee=async()=>{await ae(),Y(),await te(),$(),L(E.equipment,d=>{if(d.length>0){const s=d[0].object;W.value=s.name,t.value.selectedObjects=[s]}else W.value="",t.value.selectedObjects=[]})},ae=async()=>{const d=async()=>{const o=(await n(k.MODEL_SOURCES.EQUIPMENT)).scene;o.scale.set(...k.MODEL_SCALES),E.equipment=o,q.loaded+=1,o.name="equipment",e.value.add(o)},s=async()=>{const l=await n(k.MODEL_SOURCES.SKELETON),o=l.scene;u(o,l.animations,l.animations[0].name),o.scale.set(...k.MODEL_SCALES),E.skeleton=o,q.loaded+=1,o.name="skeleton",e.value.add(o),A.color=E.skeleton.getObjectByName("颜色材质"),A.wireframe=E.skeleton.getObjectByName("线框材质")};await Promise.all([d(),s()]),q.isLoading=!1,q.loaded=2},Y=()=>{const d=[[0,0,0],[-100,100,100],[100,-100,100],[100,100,-100]];x.forEach(d,([s,l,o])=>{var g;const f=new ye(16777215,5);f.position.set(s,l,o),(g=e.value)==null||g.add(f)})},te=()=>new Promise(d=>{D.value=!0,F({objects:[A.color],from:4,to:2,during:1e3*4,onComplete(){D.value=!1,A.color.visible=!1}}).start(),C({from:a.value.position,to:{x:.5,y:2.8,z:.5},duration:1e3*2,easing:M.Easing.Quintic.InOut,onUpdate:({x:s,y:l,z:o})=>{var f;a.value.position.set(s,l,o),(f=i.value)==null||f.update()},onComplete(){D.value=!1,d(void 0)}}).start()}),le=()=>new Promise(d=>{A.color.visible=!1,D.value=!0;const s=F({objects:[A.wireframe],from:4,to:2,during:1e3*2,onComplete:()=>{A.wireframe.visible=!1,g.start()}}),l={},o={};x.forEach(E.equipment.children,(p,v)=>{const b=p.name,y=k.EQUIPMENT_POSITION[b].DECOMPOSE,I=k.EQUIPMENT_POSITION[b].COMPOSE;l[`x${v}`]=I.x,l[`y${v}`]=I.y,l[`z${v}`]=I.z,o[`x${v}`]=y.x,o[`y${v}`]=y.y,o[`z${v}`]=y.z});const f=C({from:l,to:o,duration:1e3*2,easing:M.Easing.Quintic.InOut,onUpdate(p){x.forEach(E.equipment.children,(v,b)=>{v.position.set(p[`x${b}`],p[`y${b}`],p[`z${b}`])})},onComplete:()=>{D.value=!1,se(),d(void 0)}}),g=C({from:a.value.position,to:{x:.7,y:2.8,z:0},duration:1e3*2,easing:M.Easing.Linear.None,onUpdate(p){var v;a.value.position.set(p.x,p.y,p.z),(v=i.value)==null||v.update()}});s.chain(f).start()}),ne=()=>new Promise(d=>{D.value=!0,oe(),C({from:a.value.position,to:{x:.5,y:2.8,z:.5},duration:1e3*2,easing:M.Easing.Linear.None,onUpdate(p){var v;a.value.position.set(p.x,p.y,p.z),(v=i.value)==null||v.update()}}).start();const l={},o={};x.forEach(E.equipment.children,(p,v)=>{const b=p.name,y=k.EQUIPMENT_POSITION[b].DECOMPOSE,I=k.EQUIPMENT_POSITION[b].COMPOSE;l[`x${v}`]=y.x,l[`y${v}`]=y.y,l[`z${v}`]=y.z,o[`x${v}`]=I.x,o[`y${v}`]=I.y,o[`z${v}`]=I.z});const f=C({from:l,to:o,duration:1e3*2,easing:M.Easing.Quintic.InOut,onUpdate(p){x.forEach(E.equipment.children,(v,b)=>{v.position.set(p[`x${b}`],p[`y${b}`],p[`z${b}`])})}});A.wireframe.visible=!0;const g=F({objects:[A.wireframe],from:2,to:4,during:1e3*2,onComplete:()=>{D.value=!1,d(void 0)}});f.chain(g).start()}),se=()=>{x.forEach(k.EQUIPMENT_POSITION,(d,s)=>{const l=c(Xa,{name:s});l.position.set(d.LABEL.x,d.LABEL.y,d.LABEL.z),T.add(l)}),e.value.add(T)},oe=()=>{for(;T.children.length>0;){const d=T.children[0];T.remove(d),d.geometry&&d.geometry.dispose(),d.material&&d.material.dispose()}e.value.remove(T)},Q=R(),ie=()=>{E.equipment.children.forEach(s=>{s.material=s.material.clone(),s.hex=s.material.emissive.getHex()});const d=()=>{const s=x.random(0,E.equipment.children.length-1);E.equipment.children[s].name,E.equipment.children.forEach((l,o)=>{o===s?l.material.emissive.setHex(16711680):l.material.emissive.setHex(l.hex)}),C({from:a.value.position,to:{x:.7,y:2.8,z:0},duration:1e3*2,easing:M.Easing.Linear.None,onUpdate(l){var o;a.value.position.set(l.x,l.y,l.z),(o=i.value)==null||o.update()}}).start()};d(),Q.value=setInterval(d,1e3*2)},re=()=>{clearInterval(Q.value),E.equipment.children.forEach(d=>{d.material.emissive.setHex(d.hex)}),C({from:a.value.position,to:{x:.5,y:2.8,z:.5},duration:1e3*2,easing:M.Easing.Linear.None,onUpdate(d){var s;a.value.position.set(d.x,d.y,d.z),(s=i.value)==null||s.update()}}).start()};return V(async()=>{await ee()}),{container:m,loading:q,current:W,eqDecomposeAnimation:le,eqComposeAnimation:ne,startWarning:ie,stopWarning:re}}const Za={class:"layout"},et={class:"layout-main"},at={class:"main-left"},tt={class:"main-right"},lt=O({__name:"App",setup(m){const{container:e,loading:a,current:i,eqDecomposeAnimation:t,eqComposeAnimation:n,startWarning:u,stopWarning:c}=Ja();return Je("events",{eqDecomposeAnimation:t,eqComposeAnimation:n,startWarning:u,stopWarning:c}),(L,$)=>(h(),S("div",Za,[z(na),ce(z(ia,null,null,512),[[de,!j(a).isLoading]]),r("div",et,[r("div",at,[z(Aa,{title:"参数监测"}),z(ya,{title:"历史功率"}),z(wa,{title:"日发电量监测 "})]),r("div",tt,[ce(z(Va,{title:j(i)+"详情",name:j(i)},null,8,["title","name"]),[[de,j(i)]]),ce(z(Ha,{title:"运行监测"},null,512),[[de,!j(i)]]),z(ga,{title:"故障对比"}),z(Ra,{title:"偏航角度监测"})]),r("div",{class:"main-middle",ref_key:"container",ref:e},[z(da,{loading:j(a)},null,8,["loading"])],512)])]))}}),nt=P(lt,[["__scopeId","data-v-87fa11a1"]]),st=async()=>{Ze(nt).mount("#app");const e=[1920,1080];ea.init({el:"#app",dw:e[0],dh:e[1],resize:!0})};st();
